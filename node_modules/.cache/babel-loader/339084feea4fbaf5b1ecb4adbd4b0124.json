{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\brito\\\\Desktop\\\\Tareas\\\\Tarea C1 2020\\\\Programacion web\\\\firebase-chat\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\brito\\\\Desktop\\\\Tareas\\\\Tarea C1 2020\\\\Programacion web\\\\firebase-chat\\\\src\\\\components\\\\Chat\\\\NewMessage.js\";\nimport React, { useState } from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport Button from '@material-ui/core/Button';\nimport Icon from '@material-ui/core/Icon';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport TextField from '@material-ui/core/TextField';\nimport { makeStyles } from '@material-ui/core/styles';\nimport firebase from 'firebase/app';\nimport 'firebase/database';\nimport 'firebase/auth';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1\n  },\n  paper: {\n    paddingTop: 15,\n    paddingBottom: 20\n  },\n  message: {\n    border: '1px solid #ccc',\n    borderRadius: 8,\n    padding: '0 20px'\n  },\n  box: {\n    height: '100%',\n    paddingLeft: 20\n  }\n}));\n\nconst NewMessage = () => {\n  const classes = useStyles();\n\n  const _useState = useState(''),\n        _useState2 = _slicedToArray(_useState, 2),\n        message = _useState2[0],\n        setMessage = _useState2[1];\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    const _firebase$auth = firebase.auth(),\n          currentUser = _firebase$auth.currentUser;\n\n    if (!currentUser) return;\n    const newMessage = {\n      user: currentUser.uid,\n      message,\n      date: firebase.database.ServerValue.TIMESTAMP\n    };\n    firebase.database().ref('/chat').push(newMessage).then(res => {\n      setMessage('');\n    }).catch(error => {\n      console.log(error);\n      alert(error.message);\n    });\n  };\n\n  return React.createElement(Paper, {\n    square: true,\n    className: classes.paper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    className: classes.form,\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    container: true,\n    spacing: 0,\n    direction: \"row\",\n    className: classes.message,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 10,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    margin: \"normal\",\n    name: \"message\",\n    required: true,\n    fullWidth: true,\n    id: \"message\",\n    label: \"Mensaje\",\n    autoFocus: true,\n    value: message,\n    onChange: e => setMessage(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  })), React.createElement(Grid, {\n    item: true,\n    xs: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, React.createElement(Box, {\n    display: \"flex\",\n    alignItems: \"center\",\n    className: classes.box,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    endIcon: React.createElement(Icon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"send\"),\n    fullWidth: true,\n    disabled: !message.length,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, \"Enviar\"))))));\n};\n\nexport default NewMessage;","map":{"version":3,"sources":["C:\\Users\\brito\\Desktop\\Tareas\\Tarea C1 2020\\Programacion web\\firebase-chat\\src\\components\\Chat\\NewMessage.js"],"names":["React","useState","Paper","Button","Icon","Grid","Box","TextField","makeStyles","firebase","useStyles","theme","root","flexGrow","paper","paddingTop","paddingBottom","message","border","borderRadius","padding","box","height","paddingLeft","NewMessage","classes","setMessage","handleSubmit","e","preventDefault","auth","currentUser","newMessage","user","uid","date","database","ServerValue","TIMESTAMP","ref","push","then","res","catch","error","console","log","alert","form","target","value","length"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport Button from '@material-ui/core/Button';\nimport Icon from '@material-ui/core/Icon';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport TextField from '@material-ui/core/TextField';\nimport { makeStyles } from '@material-ui/core/styles';\nimport firebase from 'firebase/app';\nimport 'firebase/database';\nimport 'firebase/auth';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1\n  },\n  paper: {\n    paddingTop: 15,\n    paddingBottom: 20,\n  },\n  message: {\n    border: '1px solid #ccc',\n    borderRadius: 8,\n    padding: '0 20px',\n  },\n  box: {\n    height: '100%',\n    paddingLeft: 20,\n  }\n}));\n\nconst NewMessage = () => {\n  const classes = useStyles();\n\n  const [message, setMessage] = useState('');\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    const { currentUser } = firebase.auth();\n    if (!currentUser) return;\n\n    const newMessage = {\n      user: currentUser.uid,\n      message,\n      date: firebase.database.ServerValue.TIMESTAMP\n    };\n\n    firebase.database().ref('/chat').push(newMessage)\n    .then(res => {\n      setMessage('');\n    })\n    .catch(error => {\n      console.log(error);\n      alert(error.message);\n    })\n  };\n\n\n  return (\n    <Paper square className={classes.paper}>\n      <form className={classes.form} onSubmit={handleSubmit}>\n        <Grid container spacing={0} direction=\"row\" className={classes.message}>\n          <Grid item xs={10}>\n              <TextField\n                margin=\"normal\"\n                name=\"message\"\n                required\n                fullWidth\n                id=\"message\"\n                label=\"Mensaje\"\n                autoFocus\n                value={message}\n                onChange={e => setMessage(e.target.value)}\n              />\n          </Grid>\n          <Grid item xs={2}>\n            <Box display=\"flex\" alignItems=\"center\" className={classes.box}>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                endIcon={<Icon>send</Icon>}\n                fullWidth\n                disabled={!message.length}\n              >\n                Enviar\n              </Button>\n            </Box>\n          </Grid>\n        </Grid>\n      </form>\n    </Paper>\n  );\n};\n\nexport default NewMessage;\n\n\n"]},"metadata":{},"sourceType":"module"}