{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\brito\\\\Desktop\\\\Tareas\\\\Tarea C1 2020\\\\Programacion web\\\\firebase-chat\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\brito\\\\Desktop\\\\Tareas\\\\Tarea C1 2020\\\\Programacion web\\\\firebase-chat\\\\src\\\\components\\\\User.js\";\nimport React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport Link from '@material-ui/core/Link';\nimport { Link as RouterLink, withRouter } from 'react-router-dom';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\nimport firebase from 'firebase/app';\nimport 'firebase/database';\nimport 'firebase/auth';\nimport CustomAvatar from './CustomAvatar';\nconst MyLink = React.forwardRef((props, ref) => React.createElement(RouterLink, Object.assign({\n  innerRef: ref\n}, props, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 12\n  },\n  __self: this\n})));\n\nconst User = ({\n  history,\n  user,\n  onLogout\n}) => {\n  const _React$useState = React.useState(null),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        anchorEl = _React$useState2[0],\n        setAnchorEl = _React$useState2[1];\n\n  const open = Boolean(anchorEl);\n\n  const handleMenu = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleLogout = () => {\n    setAnchorEl(null);\n    firebase.auth().signOut().then(() => {\n      if (onLogout) onLogout();\n      history.push('/login');\n    });\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, React.createElement(IconButton, {\n    \"aria-label\": \"account of current user\",\n    \"aria-controls\": \"menu-appbar\",\n    \"aria-haspopup\": \"true\",\n    onClick: handleMenu,\n    color: \"inherit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(CustomAvatar, {\n    name: user.name,\n    avatar: user.avatar,\n    size: \"sm\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  })), React.createElement(Menu, {\n    id: \"menu-appbar\",\n    anchorEl: anchorEl,\n    anchorOrigin: {\n      vertical: 'top',\n      horizontal: 'right'\n    },\n    keepMounted: true,\n    transformOrigin: {\n      vertical: 'top',\n      horizontal: 'right'\n    },\n    open: open,\n    onClose: handleClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(MenuItem, {\n    disabled: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, user.name), React.createElement(MenuItem, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/profile\",\n    component: MyLink,\n    variant: \"body2\",\n    onClick: handleClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"Mi Perfil\")), React.createElement(MenuItem, {\n    onClick: handleLogout,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, \"Salir\")));\n};\n\nexport default withRouter(User);","map":{"version":3,"sources":["C:\\Users\\brito\\Desktop\\Tareas\\Tarea C1 2020\\Programacion web\\firebase-chat\\src\\components\\User.js"],"names":["React","IconButton","Link","RouterLink","withRouter","MenuItem","Menu","firebase","CustomAvatar","MyLink","forwardRef","props","ref","User","history","user","onLogout","useState","anchorEl","setAnchorEl","open","Boolean","handleMenu","event","currentTarget","handleClose","handleLogout","auth","signOut","then","push","name","avatar","vertical","horizontal"],"mappings":"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","sourcesContent":["import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport Link from '@material-ui/core/Link';\nimport { Link as RouterLink, withRouter } from 'react-router-dom';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\nimport firebase from 'firebase/app';\nimport 'firebase/database';\nimport 'firebase/auth';\nimport CustomAvatar from './CustomAvatar';\n\nconst MyLink = React.forwardRef((props, ref) => <RouterLink innerRef={ref} {...props} />);\n\nconst User = ({ history, user, onLogout }) => {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n\n  const handleMenu = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleLogout = () => {\n    setAnchorEl(null);\n\n    firebase.auth().signOut().then(() => {\n      if (onLogout) onLogout();\n      history.push('/login');\n    });\n  };\n\n  return (\n    <div>\n      <IconButton\n        aria-label=\"account of current user\"\n        aria-controls=\"menu-appbar\"\n        aria-haspopup=\"true\"\n        onClick={handleMenu}\n        color=\"inherit\"\n      >\n        <CustomAvatar name={user.name} avatar={user.avatar} size=\"sm\" />\n      </IconButton>\n      <Menu\n        id=\"menu-appbar\"\n        anchorEl={anchorEl}\n        anchorOrigin={{\n          vertical: 'top',\n          horizontal: 'right',\n        }}\n        keepMounted\n        transformOrigin={{\n          vertical: 'top',\n          horizontal: 'right',\n        }}\n        open={open}\n        onClose={handleClose}\n      >\n        <MenuItem disabled>{user.name}</MenuItem>\n        <MenuItem>\n          <Link to=\"/profile\" component={MyLink} variant=\"body2\" onClick={handleClose}>\n            {\"Mi Perfil\"}\n          </Link>\n        </MenuItem>\n        <MenuItem onClick={handleLogout}>Salir</MenuItem>\n      </Menu>\n    </div>\n  );\n};\n\nexport default withRouter(User);"]},"metadata":{},"sourceType":"module"}